<link rel="import" href="packages://ui-kit/widget/index.html">

<dom-module id="editor-da">
  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
        padding: 10px;
      }

      #view {
        margin-top: 5px;
        background: #232323;
      }

      #progress-wrapper {
        position: absolute;
        background: rgba(0,0,0,0.6);
      }

      #progress {
        width: 80%;
        height: 30px;
      }
    </style>

    <div id="content" class="flex layout vertical">
      <div class="layout horizontal center">
          <editor-input class="flex-3" value="{{profiles.local.url}}"></editor-input>
          <div class="flex-1 layout horizontal">
            <editor-button
              class="flex"
              on-click="_onDownload"
            >
              download
            </editor-button>
          </div>
      </div>
      <div class="layout horizontal center">
          <editor-input class="flex-3" value="{{profiles.local.dest}}"></editor-input>
          <div class="flex-1 layout horizontal">
            <editor-button class="small flex" on-click="_onChooseDest">
                ···
            </editor-button>
            <editor-button class="small flex" on-click="_onShowInFinder">
                [[_T('SHARED.open')]]
            </editor-button>
          </div>
      </div>
      <webview id="view" class="flex" src="[[profiles.local.url]]"></webview>

      <div id="progress-wrapper" class="layout vertical center center-justified fit" hidden="{{!downloading}}">
        <div>{{downloadingItem}}</div>
        <editor-progress id="progress" class="blue small"
          value="[[downloadProgress]]"
        >
        </editor-progress>
      </div>
    </div>
  </template>

  <script type="text/javascript" src="da.js"></script>
</dom-module>
